const fs = require('fs');
const colors = require('colors');

const fileOr = function(filename, locations = []) {
  const exists = locations.filter(function(path) {
    return fs.existsSync(path + filename);
  });
  if (exists.length === 0) {
    console.error('File not Found ->'.red, filename);
    console.error('I looked for the file in'.yellow, locations);
    return '';
  } else {
    return exists[0] + filename;
  }
};

/* 
Usage follows ->

console.log(
  'fileOr(footerjs.html)',
  fileOr('footerjs.html', [
    './',
    `node_modules/hucklebuck/build/theme/${config.theme}/`,
    `node_modules/hucklebuck/build/theme/basic/`
  ])
);
console.log(
  'fileExists(gulptasks/index)',
  fileOr('./gulptasks/index.js', [
    './',
    `node_modules/hucklebuck/build/theme/${config.theme}/`,
    `node_modules/hucklebuck/build/theme/basic/`
  ])
);
*/
module.exports = fileOr;
