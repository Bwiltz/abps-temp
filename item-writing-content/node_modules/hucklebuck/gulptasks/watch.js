var gulp = require('gulp');
const watchify = require('watchify');
const browserSync = require('browser-sync');

/**
 * This task starts watching the files inside 'src'. If a file is changed,
 * removed or added then it will run refresh task which will run the bundle task
 * and then refresh the page.
 *
 * For large projects, it may be beneficial to separate copying of libs and
 * media from bundling the source. This is especially true if you have large
 * amounts of media.
 */
const watch = function() {
  return function() {
    const watcher = gulp.watch('./src/**/*', [ 'refresh' ]);
    watcher.on('change', function(event) {
      console.log(
        'File ' + event.path + ' was ' + event.type + ', running tasks...'
      );
    });
  };
};

module.exports = watch;
